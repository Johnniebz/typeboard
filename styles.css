:root{
  --pad: 10px;
  --bg: #ffffff;
  --fg: #111;
  --muted: #666;
  --bar: #f6f6f6;
  --accent: #2b7cff;
  --btn: #eee;
}

*{ box-sizing: border-box; }
html, body { height: 100%; margin: 0; padding: 0; background: var(--bg); color: var(--fg); font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif; }
.wrap { height: 100svh; display: flex; flex-direction: column; }
.area { flex: 1; overflow: hidden; position: relative; }

.header { position: sticky; top: 0; z-index: 5; background: var(--bg); border-bottom: 1px solid #eaeaea; }
.bar { display: flex; justify-content: space-between; align-items: center; padding: 8px; background: var(--bar); gap: 10px; }
.left-tools, .right-tools { display:flex; gap: 8px; align-items:center; flex-wrap: wrap; }

.quickbar { padding: 6px 8px 10px; background: #fff; }
.rowbar { display:flex; gap: 6px; flex-wrap: nowrap; overflow-x:auto; padding-bottom: 4px; scrollbar-width: thin; }
.rowbar::-webkit-scrollbar { height: 8px; }
.rowbar::-webkit-scrollbar-thumb { background:#ddd; border-radius: 8px; }

#phrasesWrap { border-top: 1px dashed #eee; margin-top: 6px; padding-top: 6px; }

.btn { background: var(--btn); border: 1px solid #ddd; border-radius: 10px; padding: 6px 10px; cursor: pointer; }
.btn:hover { background: #e9e9e9; }
.btn-large { font-size: 16px; }
.btn-clear { background: #ffecec; color: #a00; border-color: #ffd1d1; }
.btn-sec { background: #eef4ff; border-color: #dce8ff; color: #1a57d6; }

.edit-phrases { padding: 6px 10px; border: 1px dashed #ccc; background: #fafafa; border-radius: 10px; cursor: pointer; }

.lang-picker, .notes-picker { padding: 6px 8px; border-radius: 10px; border:1px solid #ddd; background:#fff; }

#board {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  border: none; outline: none;
  padding: 16px;
  font-size: 18px; line-height: 1.5;
  background: transparent;
  resize: none;
}

#pad {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  touch-action: none; /* important for mobile drawing */
  pointer-events: none; /* enabled when Draw is On */
}

#drawings { position: absolute; inset: 0; pointer-events: none; }

dialog { border: 1px solid #ddd; border-radius: 12px; padding: 0; width: min(920px, 96vw); }
.dlg-head { padding: 12px 14px; border-bottom: 1px solid #eee; font-weight: 600; }
.dlg-body { padding: 12px 14px; max-height: 60vh; overflow: auto; }
.dlg-foot { padding: 12px 14px; border-top: 1px solid #eee; display:flex; justify-content: flex-end; gap: 8px; }
.note { color: var(--muted); font-size: 13px; margin-bottom: 10px; }

.section-card, .note-card {
  border:1px solid #eaeaea; border-radius:12px; padding:10px; background:#fff; margin: 8px 0;
  display:grid; grid-template-columns: auto 1fr auto; gap:10px; align-items:center;
}
.handle { cursor:grab; user-select:none; font-size:20px; color:#999; padding:0 6px; }
.handle:active { cursor:grabbing; }

.section-card input.section-title,
.note-card input.note-title {
  width: 100%; border:1px solid #ddd; border-radius:8px; padding:6px 8px;
}
.section-card textarea.section-phrases {
  grid-column: 1 / -1; width:100%; min-height:80px;
  border:1px solid #ddd; border-radius:8px; padding:6px 8px; resize: vertical;
}

.card-actions { display:flex; gap:6px; }
.card-actions .del { background:#ffefef; border-color:#ffdede; color:#a00; }

.phrase-btn, .section-btn {
  white-space: nowrap; border:1px solid #ddd; border-radius: 999px;
  background:#fafafa; padding:6px 10px; cursor:pointer; font-size: 14px;
}
.section-btn.active { background:#e9f0ff; border-color:#d6e2ff; color:#1a57d6; }

@media (max-width: 600px){
  .btn-large{ font-size: 15px; }
  #board { font-size: 17px; padding: 14px; }
}
